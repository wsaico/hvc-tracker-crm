{
  "permissions": {
    "allow": [
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Corregir lÃ³gica de cÃ¡lculo de pasajeros en Tracking (recuperados vs en riesgo)\n\nCambios Principales:\n\n1. PROBLEMA IDENTIFICADO:\n\n   La lÃ³gica anterior era demasiado restrictiva y con conflictos:\n   - \"Recuperados\" solo consideraba: detractor (â‰¤6) â†’ promotor (â‰¥9)\n   - Esto excluÃ­a recuperaciones de â‰¤6 a 7-8 (que tambiÃ©n son mejoras)\n   - Un pasajero podÃ­a aparecer en AMBAS listas simultÃ¡neamente\n   - Las cards no reflejaban la data real de las pruebas\n\n2. NUEVA LÃ“GICA IMPLEMENTADA:\n\n   PASAJEROS RECUPERADOS:\n   - Anterior: calificaciÃ³n â‰¤ 6 (detractor)\n   - Actual: calificaciÃ³n > 6 (mejorÃ³ a 7, 8, 9 o 10)\n   - Ejemplo: 5 â†’ 7 âœ“ | 6 â†’ 8 âœ“ | 4 â†’ 9 âœ“\n   - Ahora captura TODAS las recuperaciones reales\n\n   PASAJEROS EN RIESGO:\n   - Ãšltima calificaciÃ³n â‰¤ 6 (detractor)\n   - Y NO estÃ¡ en recuperados (son mutuamente excluyentes)\n   - Indica si tiene acciones de recuperaciÃ³n aplicadas\n\n   ESTADOS MUTUAMENTE EXCLUYENTES:\n   - Un pasajero solo puede estar en UNA categorÃ­a a la vez\n   - Prioridad: Si mejorÃ³ â†’ Recuperado | Si sigue bajo â†’ En riesgo\n\n3. CASOS CUBIERTOS:\n\n   Caso 1: Solo 1 interacciÃ³n con calificaciÃ³n baja (â‰¤6)\n   â†’ EN RIESGO âœ“\n\n   Caso 2: 2+ interacciones, Ãºltima es baja (â‰¤6)\n   â†’ EN RIESGO âœ“\n\n   Caso 3: 2+ interacciones, anterior baja (â‰¤6) y Ãºltima mejorÃ³ (>6)\n   â†’ RECUPERADO âœ“\n\n   Caso 4: 2+ interacciones, ambas buenas (>6)\n   â†’ Ni en riesgo ni recuperado (cliente satisfecho normal)\n\n4. BENEFICIOS:\n\n   âœ“ Refleja data real de las pruebas\n   âœ“ Captura todas las recuperaciones (no solo 6â†’9)\n   âœ“ Sin duplicados entre categorÃ­as\n   âœ“ LÃ³gica clara y predecible\n   âœ“ MÃ©tricas precisas\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\ndebug: Agregar console.log para investigar problema de pasajeros recuperados\n\nCambios Temporales para Debug:\n\n1. LOGS AGREGADOS:\n\n   - DEBUG de cada pasajero con mÃºltiples interacciones:\n     * Nombre del pasajero\n     * NÃºmero de interacciones\n     * Array completo de fechas y ratings\n     * CalificaciÃ³n anterior vs actual\n     * Booleano si cumple condiciÃ³n de recuperado\n\n   - LOG cuando se detecta un pasajero recuperado:\n     * \"âœ… RECUPERADO detectado: [nombre] [rating_anterior] â†’ [rating_actual]\"\n\n   - RESUMEN final del tracking:\n     * Total pasajeros\n     * Total interacciones\n     * Cantidad en riesgo\n     * Cantidad recuperados\n     * Cantidad cumpleaÃ±os\n     * Cantidad recientes 24h\n\n   - LISTAS de nombres:\n     * âœ… Pasajeros recuperados\n     * âš ï¸ Pasajeros en riesgo\n\n2. OBJETIVO:\n\n   Estos logs ayudarÃ¡n a identificar:\n   - Si las interacciones estÃ¡n en el orden correcto\n   - Si los ratings se estÃ¡n comparando correctamente\n   - Por quÃ© \"recuperados\" muestra 0 cuando deberÃ­a haber al menos 1\n   - Por quÃ© \"HOY\" muestra 4 cuando solo hay 1 pasajero\n\n3. INSTRUCCIONES PARA EL USUARIO:\n\n   Abrir consola del navegador (F12) y revisar:\n   - Buscar \"DEBUG Pasajero:\" para ver cada pasajero analizado\n   - Buscar \"âœ… RECUPERADO detectado\" para confirmar detecciones\n   - Buscar \"ðŸ“Š RESUMEN TRACKING\" para ver totales finales\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
